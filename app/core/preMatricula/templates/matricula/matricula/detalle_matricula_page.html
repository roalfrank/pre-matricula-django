{% extends 'base.html'%}
{% load static%}

{% block head %}
<link rel="stylesheet" href="{% static 'lib/datatables-1.10.20/css/dataTables.bootstrap4.min.css' %}" />
<link rel="stylesheet"
    href="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/css/responsive.bootstrap4.min.css' %}" />
{% endblock  %}

{% block titulo %}<img src="{% static 'img/iconos/curso.png' %}" alt="Fecha fin"
    style="width: 2.5rem; margin-right: 1rem;" srcset="">Detalle del Curso{%endblock%}
{%block contenido%}
<div class="cargar_matricula" id="cargar_matricula"></div>
{%endblock%}
{%block js%}
<script src="{% static 'lib/datatables-1.10.20/js/jquery.dataTables.js' %}"></script>
<script src="{% static 'lib/datatables-1.10.20/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'js/html2pdf/html2pdf.bundle.min.js' %}"></script>
<script>
    $(function () {
        let cargarDataTable = function () {
            //cargar datatable de comentario
            $('#tabla_comentario').DataTable({
                pageLength: 5,
                lengthMenu: [
                    [5, 10, 20, -1],
                    [5, 10, 20, "Todos"]
                ],
                "order": [],
                columnDefs: [{
                    targets: 0,
                    orderable: false,

                }]
            });
        }


        $('.cargar_matricula').load('{% url "prematricula:matricula-detalle" id_matricula %}', function () {
            $('[data-toggle="popover"]').popover({
                html: true,
                content: function () {
                    var content = $(this).attr("data-popover-content");
                    return $(content).children(".popover-body").html();
                },
                title: function () {
                    var title = $(this).attr("data-popover-content");
                    return $(title).children(".popover-heading").html();
                }
            });
            //cargar like
            $('#like_button').on('click', function (event) {
                var pk = $(this).attr('value');
                $.ajax({
                    type: 'POST',
                    url: '{% url "prematricula:matricula-like" %}',
                    data: {
                        'id_matricula': pk,
                        'csrfmiddlewaretoken': '{{ csrf_token }}'
                    },
                    datatype: 'json',
                    success: function (response) {
                        if (response["error"] == false) {
                            if (response['is_liked']) {
                                $('#like_button').removeClass('btn-default');
                                $('#like_button').addClass('btn-info');
                            } else {
                                $('#like_button').removeClass('btn-info');
                                $('#like_button').addClass('btn-default');
                            }
                            $('#cantidad_like').html(response['total_likes'])
                                .fadeIn(1000);

                        }


                    },
                    error: function (rs, e) {
                        console.log(rs.responseText);
                    },
                });
            });
            cargarDataTable();
            //el boton para matricular
            $('#btn-matricular').on('click', function (e) {
                let btn_matricular = $(this);
                //{% if request.user.groups.all.0.name == 'Estudiante' %}
                console.log(btn_matricular.attr('activo') == 'si');
                if (btn_matricular.attr('activo') == 'si') {
                    $.ajax({
                        type: 'POST',
                        url: '{% url "prematricula:matricula-estudiante-add" %}',
                        data: {
                            'id_matricula': {{id_matricula}},
                            'action': 'delete',
                            'csrfmiddlewaretoken': '{{ csrf_token }}'
                        },
                        datatype: 'json',
                        success: function (response) {
                            if (response["error"] == false) {
                                btn_matricular.removeClass('btn-danger');
                                btn_matricular.addClass('btn-default');
                                btn_matricular.html(
                                    '<i class="fas fa-graduation-cap p-1"></i>Matricular'
                                    );
                                btn_matricular.attr('activo', 'no');
                                mensaje('success', 'Eliminada su matrícula.');
                                $('#cant_estudante').html(response[
                                    'cant_estudiante']);
                                let promedio = Math.round((response[
                                    'cant_estudiante'] * 100) / parseInt($(
                                    '#cant_estudiante_total').text()));
                                $('#cant_estudiante_promedio').html(promedio + '%');
                                console.log(response);
                                $("#estado-matricula").html(response["estado"]);
                                $("#estado-matricula").removeClass(
                                    'badge-success badge-danger badge-warning');
                                color = 'badge-success'
                                if (response["estado"] == 'cerrado') {
                                    color = 'badge-danger'
                                } else if (response["estado"] == 'en proceso') {
                                    color = 'badge-warning'
                                }
                                $("#estado-matricula").addClass(color);
                                $('.carousel-inner').load(
                                    '{% url "prematricula:matricula-estudiante-listar-carrucel" id_matricula %}',
                                    function () {});
                            } else {
                                mensaje('error',
                                    'Error eliminando su matrícula , contactar a un admin.'
                                    );
                            }

                        },
                        error: function (rs, e) {
                            console.log(rs.responseText);
                        },
                    });
                } else {
                    $.ajax({
                        type: 'POST',
                        url: '{% url "prematricula:matricula-estudiante-add" %}',
                        data: {
                            'id_matricula': {{id_matricula}},
                            'action': 'add',
                            'csrfmiddlewaretoken': '{{ csrf_token }}'
                        },
                        datatype: 'json',
                        success: function (response) {
                            if (response["error"] == false) {
                                btn_matricular.removeClass('btn-default');
                                btn_matricular.addClass('btn-danger');
                                btn_matricular.html(
                                    '<i class="fa fa-trash-alt p-1"></i>Cancelar matrícula'
                                    );
                                btn_matricular.attr('activo', 'si');
                                mensaje('success', 'Matriculado correctamente.');
                                $('#cant_estudante').html(response[
                                    'cant_estudiante']);
                                let promedio = Math.round((response[
                                    'cant_estudiante'] * 100) / parseInt($(
                                    '#cant_estudiante_total').text()));
                                $('#cant_estudiante_promedio').html(promedio + '%');
                                $("#estado-matricula").html(response["estado"]);
                                $("#estado-matricula").removeClass(
                                    'badge-success badge-danger badge-warning');
                                color = 'badge-success'
                                if (response["estado"] == 'cerrado') {
                                    color = 'badge-danger'
                                } else if (response["estado"] == 'en proceso') {
                                    color = 'badge-warning'
                                }
                                $("#estado-matricula").addClass(color);
                                $('.carousel-inner').load(
                                    '{% url "prematricula:matricula-estudiante-listar-carrucel" id_matricula %}',
                                    function () {});
                            } else {
                                mensaje('error',
                                    'Error en la matrícula , contactar a un admin.'
                                    );
                            }


                        },
                        error: function (rs, e) {
                            console.log(rs.responseText);
                        },
                    });
                }
                //{% else %}
                btn_matricular.removeClass('btn-success');
                btn_matricular.removeClass('btn-default');
                btn_matricular.addClass('btn-secondary');
                btn_matricular.html('<i class="fas fa-plus mr-2"></i>No estudiante.');
                //{% endif %}

            });
            //boton generar pdf 
            let imgData = 'data:image/png;base64,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'
            
            let imgLogo = "   data:image/png;base64,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 "
            
            $('#btn-pdf-matricular').on('click', function (e) {
               let elemento = document.getElementById('cargar_matricula');
               
                // Generate the PDF.
                html2pdf().from(elemento).set({
                    margin: [0.9, 0.5, 0.8, 0.5],
                    filename: 'matricula_{{id_matricula}}.pdf',
                    
                    image: {type: 'png', quality: 2},
                    html2canvas: {scale:2 },
                    jsPDF: {unit: 'in', format: 'a4', orientation: 'landscape'},
                    pdfCallback: pdfCallback
                }).toPdf().get('pdf').then(function(pdf){
                    var totalPages = pdf.internal.getNumberOfPages();
                    console.log(totalPages);
                    for (i = 1; i <= totalPages; i++) {
                          pdf.setPage(i);
                          //pdf.setFontSize(10);
                          //pdf.setTextColor(150);
                          pdf.addImage(imgLogo, "PNG", pdf.internal.pageSize.getWidth() - 11, pdf.internal.pageSize.getHeight() - 8,1, 0.6);
                          pdf.addImage(imgData, "PNG", pdf.internal.pageSize.getWidth() - 5, pdf.internal.pageSize.getHeight() - 0.8,4 , 0.3);
                          //pdf.text('Page ' + i + ' of ' + totalPages, pdf.internal.pageSize.getWidth() - 50, pdf.internal.pageSize.getHeight() - 10);
  } 
                }).save();
            });
            //-provando function para footer y header del pdf
            function pdfCallback(pdfObject) {
    var number_of_pages = pdfObject.internal.getNumberOfPages()
    var pdf_pages = pdfObject.internal.pages
    var myFooter = "Footer info"
    for (var i = 1; i < pdf_pages.length; i++) {
        // We are telling our pdfObject that we are now working on this page
        pdfObject.setPage(i)
        // The 10,200 value is only for A4 landscape. You need to define your own for other page sizes
        pdfObject.text(myFooter, 10, 200)
    }
}

            //evento del formulario comentario general
            $("#comentario-contenedor").on('submit', 'form', function (e) {
                e.preventDefault();
                if (e.target.texto.value != '') {

                    console.log(e.target.texto.value);
                    var parametro = new FormData(e.target);
                    $.ajax({
                        type: 'POST',
                        url: '{% url "prematricula:comentario-add" %}',
                        data: parametro,
                        datatype: 'json',
                        processData: false,
                        contentType: false,
                        success: function (response) {
                            if (response["error"] == false) {
                                if (response['estudiante']) {
                                    mensaje('success',
                                        "Comentario enviado correctamente. ");
                                } else {
                                    $("#cargarComentarios").load(
                                        '{% url "prematricula:comentario-listar" %}', {
                                            'id_matricula': {{id_matricula}},
                                            'csrfmiddlewaretoken': function () {
                                                return $(
                                                    'input[name="csrfmiddlewaretoken"]'
                                                ).val();
                                            },
                                        },
                                        function () {
                                            cargarDataTable();
                                        });
                                    mensaje("success",
                                        "Comentario enviado correctamente.");
                                }
                                e.target.texto.value = '';
                            } else {
                                mensaje("error", "Error mandando comentario. ");
                            }


                        },
                        error: function (rs, e) {
                            console.log(rs.responseText);
                        },
                    }); //fin ajax
                } else {
                    mensaje('error', 'Debe escribir un comentario.');
                }
            });
            //formulario responder 

        });

    });
</script>
{%endblock%}